<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Quiz</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <style>
    /* ----------------------------------------------
       Hier staat jouw originele inline CSS (hersteld)
       ---------------------------------------------- */
    /* Quiz- en eindscherm extra styles */
/* ------------------------------
   Algemeen Quiz Styling
   ------------------------------ */
body {
  font-family: Arial, sans-serif;
  text-align: center;
  padding: 50px;
  margin: 0;
  background-color: #fff;
  color: #000;
}

h1 {
  font-size: 2.5rem;
  font-weight: bold;
  padding-bottom: 30px;
}

p {
  padding-bottom: 50px;
}

button {
  margin-top: 10px;
  padding: 12px 80px;
  font-size: 1rem;
  background-color: #3b4cca;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

button:hover {
  background-color: #2a36a3;
}

input {
  display: block;
  margin: 0 auto 20px auto;
  padding: 10px;
  width: 250px;
  border: 2px solid #ccc;
  border-radius: 5px;
}

/* ------------------------------
   Quiz Container
   ------------------------------ */
#quiz-container {
  display: flex;
  flex-direction: column;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
}

#question {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 2rem;
  text-align: center;
  padding: 20px;
}

#middle {
  flex: 2;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px;
}

#timer {
  position: absolute;
  top: 20px;
  right: 20px;
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background-color: red;
  color: white;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 2em;
  font-weight: bold;
  z-index: 10; /* zorgt dat hij altijd boven andere elementen ligt */
}

#btn0 { background-color: #f44336; }
#btn1 { background-color: #4caf50; }
#btn2 { background-color: #2196f3; }
#btn3 { background-color: #ff9800; }

/* Resultaat boxen */
.result-box {
  border: 1px solid #ccc;
  padding: 15px;
  margin: 15px 0;
  border-radius: 5px;
  background: #f9f9f9;
}

.correct { color: green; font-weight: bold; }
.wrong { color: red; font-weight: bold; }

/* ------------------------------
   Vraag afbeelding styling
   ------------------------------ */
#center-img-container {
  width: 100%;
  display: flex;
  justify-content: center;
  margin: 20px 0;
}


/* ------------------------------
   Patronen quiz specifieke styling
   ------------------------------ */
/* Patronen quiz container */
.quiz-patronen #middle {
  display: flex;
  flex-direction: column; /* afbeelding bovenaan, antwoorden daaronder */
  align-items: center;
  gap: 30px; /* ruimte tussen afbeelding en knoppen */
}

/* Vraag afbeelding */
.quiz-patronen #question-img {
  width: 100%;          /* maximaal breedte binnen container */
  max-width: 600px;     /* limiet voor grote schermen */
  max-height: 400px;    /* niet groter dan 400px */
  object-fit: contain;   /* hele afbeelding zichtbaar */
  display: block;
  margin: 0 auto;
}

/* ------------------------------
   Header en quiz optie knoppen
   ------------------------------ */
.quiz-header {
  margin: 20px;
}

.teamnaam {
  display: flex;
  justify-content: left;
  font-style: italic;
  font-size: 30px;
}

.quiz-title {
  font-size: 28px;
  font-weight: bold;
}

.quiz-button {
  background-color: #3949ab;
  color: white;
  border: none;
  border-radius: 50%;
  width: 120px;
  height: 120px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  transition: transform 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
  white-space: nowrap;
  text-align: center;
}

.quiz-button:hover {
  transform: scale(1.1);
}
.quiz-options {
  display: flex;
  justify-content: center; /* center horizontaal */
  align-items: center;     /* center verticaal */
  gap: 30px;
  margin-top: 40px;
  flex-wrap: nowrap;       /* forceer naast elkaar */
}

.naam {
  display: block;
  font-weight: bold;
  margin-bottom: 40px; /* ruimte tussen label en input */
}

.naam-input {
  display: block;
  margin-bottom: 40px; /* ruimte tussen input en button */
  padding: 10px;
  width: 250px;
  border-radius: 5px;
  border: 2px solid #ccc;
}

/* Container voor de navigatie van vragen */
#details {
  position: relative;
  max-width: 800px;
  margin: 0 auto;
}

.result-box {
  display: none; /* standaard verborgen */
}

.result-box.active {
  display: block; /* alleen de actieve tonen */
}

/* Navigatie pijlen */
.nav-arrows {
  display: flex;
  justify-content: space-between;
  margin-top: 20px;
}

.nav-arrows button {
  padding: 10px 20px;
  font-size: 1rem;
  background-color: #3b4cca;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}

.nav-arrows button:disabled {
  background-color: #999;
  cursor: not-allowed;
}

section {
  position: relative;
  z-index: 1;
}

/* Alle elementen behalve input krijgen text-shadow */
body, p, h1, h2, h3, span, button {
  color: white;
  text-shadow: 1px 1px 2px black;
}

/* Input blijft scherp */
input, .naam-input {
  text-shadow: none;
  color: black;
  background-color: white;
  border: 2px solid #000;
  border-radius: 5px;
  font-size: 16px;
}


/* ------------------------------
   Responsiviteit
   ------------------------------ */
/* Quiz container: desktop */
#quiz-container:not(.quiz-patronen) {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: stretch; /* belangrijk: stretch zodat beide kolommen even hoog zijn */
  height: 100vh;
  padding: 60px 20px 20px 20px; /* top padding voor teamnaam/timer */
  box-sizing: border-box;
  position: relative;
}

/* Foto links */
#question-img-container {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
}

#question-img {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
}

/* Teamnaam en timer */
#quiz-teamnaam {
  position: absolute;
  top: 10px;
  left: 10px;
  font-size: 1.5rem;
  font-weight: bold;
  z-index: 10;
  color: white;
  text-shadow: 1px 1px 2px black;
}

#timer {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background-color: red;
  color: white;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 1.5rem;
  font-weight: bold;
  z-index: 10;
}
/* -----------------------------
   Standaard quiz layout (rugby & psychologie)
   ----------------------------- */
.quiz-standard {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: flex-start;
  position: relative;
  max-width: 1200px;
  margin: 0 auto;
  height: calc(100vh - 40px); /* zorgt dat alles in viewport past */
  padding: 20px;
  box-sizing: border-box;
}

/* Vraaggebied (boven tekst + afbeelding) */
.quiz-standard #question-area {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-right: 20px;
}

/* Vraagtekst */
.quiz-standard #question-text {
  font-size: 1.8rem;
  margin-bottom: 20px;
  text-align: center;
}

/* Vraag afbeelding */
.quiz-standard #question-img-container {
  width: 100%;
  max-width: 600px;
  height: 400px;
  display: flex;
  justify-content: center;
  align-items: center;
}

.quiz-standard #question-img {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  border: 3px solid #3949ab;
  border-radius: 12px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

/* Timer en teamnaam */
.quiz-standard #quiz-teamnaam {
  position: absolute;
  top: 10px;
  left: 10px;
  font-size: 1.5rem;
  font-weight: bold;
  z-index: 10;
}

.quiz-standard #timer {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background-color: red;
  color: white;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 1.5rem;
  font-weight: bold;
  z-index: 10;
}

#question-img {
  width: 90% !important;       
  max-width: 800px !important; 
  height: auto !important;     
  object-fit: contain !important; 
  display: block !important;
  margin: 20px auto !important;   
  border: 3px solid #3949ab;
  border-radius: 12px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  background-color: #fff;
}


/* Mobiel: afbeelding boven, antwoorden eronder */
@media (max-width: 899px) {
  #quiz-container:not(.quiz-patronen) {
    flex-direction: column;
  }

  #question-img-container {
    max-height: 50vh;
    margin-bottom: 20px;
  }
}

/* ======= Override / layout voor rugby & psychologie =======
   - vraag boven afbeelding
   - afbeelding links, antwoorden rechts (2x2)
   - gelijke hoogte knoppen, geen extra ruimte in het midden
   - teamnaam linksboven en timer rechtsboven blijven zichtbaar
   - mobiel: afbeelding boven, knoppen onder (2x2)
   ========================================================= */

/* Zorg dat deze regels sterke specificiteit hebben om eerdere regels te overriden */
/* Container voor quiz-standard */
/* Container voor quiz-standard */
/* Container quiz */
/* Quiz grid voor rugby/psychologie */
/* Container */
/* Container */
#quiz-container.quiz-standard {
  position: relative;
  max-width: 1200px;
  margin: 0 auto;
  padding: 40px 20px 20px 20px; /* more top padding to separate name/timer */
  box-sizing: border-box;
  display: grid;
  grid-template-rows: auto auto 1fr; /* header, question, main */
  grid-template-columns: 1fr; 
  gap: 30px; /* increase gap between rows */
}
/* Als er geen afbeelding wordt getoond, center de answers */
#quiz-container.quiz-standard.no-img .answers {
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-template-rows: 1fr 1fr;
  gap: 20px;
  justify-items: center;  /* center horizontaal */
  align-items: center;    /* center verticaal */
  height: auto;           /* neem alleen de hoogte die nodig is */
  max-height: none;
}

/* Header: name left, timer right */
#quiz-container.quiz-standard #quiz-teamnaam,
#quiz-container.quiz-standard #timer {
  position: absolute;
  top: 10px;
  z-index: 50;
}
#quiz-container.quiz-standard #quiz-teamnaam {
  left: 10px;
}
#quiz-container.quiz-standard #timer {
  right: 10px;
}

/* Question text centered */
#quiz-container.quiz-standard #question-text {
  grid-row: 2;
  text-align: center;
  font-size: 2rem;
  margin: 0 auto;
  padding-top: 20px; /* extra space from header */
}

/* Main grid: image left, answers right */
#quiz-container.quiz-standard #quiz-main {
  grid-row: 3;
  display: grid;
  grid-template-columns: 1fr 1fr; /* image | answers */
  gap: 30px;
  align-items: start;
  margin-top: 20px;
  max-height: 500px; /* ensure main section fits on screen */
}

/* Question image */
#quiz-container.quiz-standard #question-img-container {
  display: flex;
  justify-content: center;
  align-items: center;
}

#quiz-container.quiz-standard #question-img {
  max-width: 100%;
  max-height: 500px; /* optional fixed max height */
  object-fit: contain;
  border: 3px solid #3949ab;
  border-radius: 12px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

/* 2x2 answer grid */
#quiz-container.quiz-standard .answers {
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-template-rows: 1fr 1fr;
  gap: 20px;
  height: 100%; /* fills available height of #quiz-main */
  max-height: 450px; /* prevents grid from being too tall */
}

#quiz-container.quiz-standard .answers button {
  width: 100%;
  height: 100%;
  font-size: 1rem;       /* slightly smaller so it fits better */
  padding: 10px;          /* internal spacing */
  border-radius: 12px;
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;     /* center text horizontally */
  word-wrap: break-word;  /* wrap long words if needed */
  line-height: 1.2;       /* reduce spacing between lines */
  overflow: hidden;       /* prevents overflow if text is too long */
  white-space: normal;    /* allow line breaks */
}

/* Mobile: stack image + answers */
@media (max-width: 900px) {
  #quiz-container.quiz-standard #quiz-main {
    grid-template-columns: 1fr;
    grid-template-rows: auto auto;
    gap: 20px;
    margin-top: 15px;
  }

  #quiz-container.quiz-standard .answers {
    grid-template-columns: 1fr 1fr;
    grid-template-rows: auto auto;
  }
}

.answers {
  display: grid;
  grid-template-columns: 1fr 1fr; /* 2 kolommen voor 2x2 blokken */
  gap: 10px;                     /* afstand tussen blokken */
  justify-items: center;          /* centreren van afbeeldingen in cellen */
}

.answers.centered {
  display: grid !important;
  grid-template-columns: 1fr 1fr !important;
  grid-template-rows: 1fr 1fr !important;
  gap: 20px !important;
  justify-items: center !important;
  align-items: center !important;
  place-items: center !important;
  width: 100% !important;
  max-width: 600px !important;
  margin: 0 auto !important;
}

  </style>
</head>
<body>
<video id="backgroundVideo" autoplay muted loop playsinline style="
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    object-fit: cover;
    z-index: 0;
    pointer-events: none;">
</video>

  <!-- Startscherm -->
  <section id="start-scherm">
    <h1>Welkom</h1>
    <p><i>
      Test je kennis, scherpte en inzicht in drie uitdagende themaâ€™s!<br>
      â€¢ Rugby â€“ Hoe goed ken jij de spelregels, geschiedenis en iconische momenten?<br>
      â€¢ IQ-patronen â€“ Ontdek of jij de logica achter cijfers en figuren kunt doorzien.<br>
      â€¢ Psychologische themaâ€™s â€“ Van emoties herkennen tot inzicht in gedrag: daag jezelf uit.<br>
      <br>
      De quiz start eenvoudig, maar wordt stap voor stap uitdagender. Denk snel, denk slim en kijk hoe ver jij raakt!
    </i></p>

    <form id="naamForm">
  <label for="naam" class="naam">Wat is je naam?</label>
  <input type="text" id="naam" name="naam" placeholder="je naam" required class="naam-input">
  <button type="submit">Start quiz</button>
</form>

  </section>

  <!-- Thema scherm -->
  <section id="thema-scherm" style="display:none;" class="quiz-body">
    <header class="quiz-header">
      <span class="teamnaam" id="teamnaam">[Teamnaam]</span>
    </header>

    <section class="quiz-welcome">
      <h1 class="quiz-title">
        Hallo <span id="spelernaam"></span><br>
        Welke quiz wil je spelen?
      </h1>
    </section>

    <main class="quiz-options">
      <button class="quiz-button" onclick="startQuiz('rugby')">Rugby</button>
      <button class="quiz-button" onclick="startQuiz('patronen')">Patronen</button>
      <button class="quiz-button" onclick="startQuiz('psychologie')">Psychologie</button>
    </main>
  </section>

  <!-- Quiz scherm -->
<section id="quiz-scherm" style="display:none;">
<div id="quiz-container" class="quiz-standard">
  <div id="question-text"></div>

  <div id="quiz-main">
    <div id="question-img-container">
      <img id="question-img" src="" alt="Vraag afbeelding">
    </div>

    <div class="answers">
      <button id="btn0"></button>
      <button id="btn1"></button>
      <button id="btn2"></button>
      <button id="btn3"></button>
    </div>
  </div>

  <span class="teamnaam" id="quiz-teamnaam">[Teamnaam]</span>
  <div id="timer"></div>
</div>




</section>



  <!-- Eindscherm -->
  <section id="eind-scherm" style="display:none;">
    <h1>Quiz Resultaten</h1>
    <div id="summary"></div>
    <h2>Het scoreboard</h2>
    <ol class="scoreboard" id="scoreboard"></ol>
    <div style="margin-top:15px;">
      <button onclick="restartQuiz()">Doe de quiz opnieuw</button>
    </div>
    <h2>Hoe heb je het gedaan?</h2>
    <div id="details"></div>
  </section>

  

  <!-- --------------------------------------------
       JavaScript - werkende, gestructureerde code
       -------------------------------------------- -->
  <script>
    /* <!-- uitleg: Globale variabelen bewaren de status van de quiz (naam, huidig thema, vragenlijst, index, score, timer). */
    let spelerNaam = "";
    let currentQuiz = "";
    let quizData = [];
    let shuffledQuizData = [];
    let currentQuestion = 0;
    let score = 0;
    let userAnswers = [];
    let timerInterval = null;
    let timeLeft = 15;

    function restartQuiz() {
  currentQuiz = "";
  quizData = [];
  shuffledQuizData = [];
  currentQuestion = 0;
  score = 0;
  userAnswers = [];
  clearInterval(timerInterval);
  document.getElementById("question-img").style.display = "none";
  showScreen("start-scherm");
}

// ðŸ”¹ Achtergrondvideoâ€™s
const backgroundVideo = document.getElementById("backgroundVideo");

// Startscherm videos

const startVideos = [
  "vids/introBlauwe.mp4",
  "vids/introGroene.mp4",
  "vids/introRoze.mp4",
  "vids/introscherm.mp4"
];

// Thema-specifieke videos
const themeVideos = {
  patronen: "vids/matrix.mp4",
  rugby: "vids/redBackground.mp4",
  psychologie: "vids/psychologyBackground.mp4"
};

// Kies Ã©Ã©n random startvideo bij eerste load
function playRandomStartVideo() {
  const randomIndex = Math.floor(Math.random() * startVideos.length);
  backgroundVideo.src = startVideos[randomIndex];
  backgroundVideo.play();
}

// Wissel achtergrond voor thema quiz
function playThemeVideo(theme) {
  backgroundVideo.src = themeVideos[theme];
  backgroundVideo.play();
}

// Start bij laden
window.addEventListener("load", () => {
  playRandomStartVideo();
  showScreen("start-scherm"); // behoud je huidige startscherm logica
});

    /* <!-- uitleg: showScreen verbergt alle <section> elementen en toont enkel het gevraagde scherm. -- */
    function showScreen(id) {
      document.querySelectorAll("body > section").forEach(sec => sec.style.display = "none");
      const el = document.getElementById(id);
      if (el) el.style.display = "block";
    }

    /* <!-- uitleg: Naamformulier afhandelen: naam bewaren en naar themascherm gaan. -- */
    document.getElementById("naamForm").addEventListener("submit", e => {
      e.preventDefault();
      spelerNaam = document.getElementById("naam").value.trim() || "Speler";
      document.getElementById("teamnaam").innerText = spelerNaam;
      document.getElementById("spelernaam").innerText = spelerNaam;
      showScreen("thema-scherm");
    });

    /* <!-- uitleg: startQuiz kiest de juiste vragenlijst op basis van thema, reset toestanden en start de quiz.*/
function startQuiz(thema) {
  currentQuiz = thema;

  // Thema-quiz data laden
  if (thema === "psychologie") quizData = psychologieVragen;
  else if (thema === "rugby") quizData = rugbyVragen;
  else if (thema === "patronen") quizData = patronenVragen;
  else { alert("Dit thema is nog niet beschikbaar."); return; }

  // --------------------------
  // Patronen-specifieke class
  const quizContainer = document.getElementById("quiz-container");
  quizContainer.classList.remove("quiz-patronen"); // reset altijd
  if (thema === "patronen") {
    quizContainer.classList.add("quiz-patronen");
  }
  // --------------------------

  shuffledQuizData = shuffle ([...quizData]);                                              //shufle tussen = en ([...quizData]);   
  currentQuestion = 0;
  score = 0;
  userAnswers = [];
  document.getElementById("quiz-teamnaam").innerText = spelerNaam;
  playThemeVideo(thema); // verandert achtergrond naar thema video
  showScreen("quiz-scherm");
  loadQuestion();
}


    /* <!-- uitleg: shuffle gebruikt Fisher-Yates om willekeurige volgorde te maken. */
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

function loadQuestion() {
  if (currentQuestion >= shuffledQuizData.length) {
    if (currentQuiz === "patronen") showResultPatronen();
    else showResult();
    return;
  }

  const q = shuffledQuizData[currentQuestion];
  const questionTextEl = document.getElementById('question-text');
  const questionImgContainer = document.getElementById('question-img-container');
  const questionImg = document.getElementById('question-img');
  const timerEl = document.getElementById('timer');

  // Reset
  questionTextEl.style.display = "none";
  questionImgContainer.style.display = "none";
  questionImg.src = "";

  // Toon instructie boven afbeelding indien aanwezig
// Vraag tekst of afbeelding
if (q.question.match(/\.(png|jpg|jpeg|gif)$/i)) {
    questionImg.src = q.question;
    questionImgContainer.style.display = "block";
    questionTextEl.innerText = q.instruction || ""; // alleen instructie als die er is
    questionTextEl.style.display = q.instruction ? "block" : "none";
} else {
    let questionText = "";
    if (q.instruction) questionText += q.instruction + "\n\n";
    questionText += q.question;
    questionTextEl.innerText = questionText;
    questionTextEl.style.display = "block";
    questionImg.src = q.image || "";
    questionImgContainer.style.display = q.image ? "block" : "none";
}


if (currentQuiz === "patronen") {
    if (q.image) {
        questionImg.src = q.image;
        questionImgContainer.style.display = "block";
    } else if (q.question.match(/\.(png|jpg|jpeg|gif)$/i)) {
        questionImg.src = q.question;
        questionImgContainer.style.display = "block";
    } else {
        questionImgContainer.style.display = "none";
        questionImg.src = "";
    }

    const answersEl = document.querySelector(".answers");
    if ((currentQuestion < 6) || currentQuestion === 9) { 
        answersEl.classList.add("centered");
    } else {
        answersEl.classList.remove("centered");
    }
}


const answersEl = document.querySelector(".answers");
// Voeg centreren toe bij vragen 1 t/m 6 en 10 in patronen
if (currentQuiz === "patronen" && 
    ((currentQuestion < 6) || currentQuestion === 9)) { 
  answersEl.classList.add("centered");
} else {
  answersEl.classList.remove("centered");
}
  // Antwoorden
  q.answers.forEach((ans, i) => {
    const btn = document.getElementById("btn"+i);
    btn.innerHTML = "";
    if (ans.match(/\.(png|jpg|jpeg|gif)$/i)) {
      const img = document.createElement("img");
      img.src = ans;
      img.alt = `Answer ${i}`;
      img.style.width = "100%";
      img.style.height = "100%";
      img.style.objectFit = "cover";
      btn.appendChild(img);
    } else {
      btn.innerText = ans;
    }
    btn.onclick = () => selectAnswer(i);
  });

  // Timer
  timeLeft = 25;
  timerEl.innerText = timeLeft;
  timerEl.style.backgroundColor = "gold";

  clearInterval(timerInterval);
  timerInterval = setInterval(() => {
    timeLeft--;
    timerEl.innerText = timeLeft;
    if (timeLeft >= 10) timerEl.style.backgroundColor = "gold"; 
    else timerEl.style.backgroundColor = "red";
    if (timeLeft <= 0) {
      clearInterval(timerInterval);
      selectAnswer(-1);
    }
  }, 1000);
}



function setupResultNavigation() {
  const boxes = document.querySelectorAll("#details .result-box");
  let currentIndex = 0;

  function showBox(index) {
    boxes.forEach((box, i) => {
      box.classList.toggle("active", i === index);
    });
    // Knoppen activeren/deactiveren
    prevBtn.disabled = (index === 0);
    nextBtn.disabled = (index === boxes.length - 1);
  }

  const nav = document.createElement("div");
  nav.className = "nav-arrows";

  const prevBtn = document.createElement("button");
  prevBtn.innerText = "â† Vorige";
  prevBtn.onclick = () => {
    if (currentIndex > 0) {
      currentIndex--;
      showBox(currentIndex);
    }
  };

  const nextBtn = document.createElement("button");
  nextBtn.innerText = "Volgende â†’";
  nextBtn.onclick = () => {
    if (currentIndex < boxes.length - 1) {
      currentIndex++;
      showBox(currentIndex);
    }
  };

  nav.appendChild(prevBtn);
  nav.appendChild(nextBtn);
  document.getElementById("details").appendChild(nav);

  // Start bij de eerste vraag
  showBox(currentIndex);
}

function selectAnswer(selected) {
  clearInterval(timerInterval);
  const q = shuffledQuizData[currentQuestion];

  const chosenText = (selected >= 0 && q.answers[selected] !== undefined) ? q.answers[selected] : "Geen antwoord";
  const correctText = q.answers[q.correct] || "Onbekend";

  let isCorrect = (selected === q.correct);
  let bonus = 0;

  if (isCorrect) {
    score++; // standaardpunt
    if (timeLeft >= 10) bonus = 1; // bonuspunt
    score += bonus;
  }

  userAnswers.push({
    question: q.question,
    chosen: chosenText,
    correct: correctText,
    isCorrect: isCorrect,
    bonus: bonus
  });

  currentQuestion++;
  loadQuestion();
}

function showResultPatronen() {
  showScreen("eind-scherm");
  
  const totalBonus = userAnswers.reduce((sum, ans) => sum + ans.bonus, 0);

  document.getElementById("summary").innerHTML = `
    <p>Gefeliciteerd <b>${spelerNaam}</b>, je hebt de patronenquiz afgerond.<br>
    Je score is: <b>${score - totalBonus}</b> van <b>${shuffledQuizData.length}</b><br>
    Bonuspunten: <b>${totalBonus}</b><br>
    Totaal: <b>${score}</b></p>
  `;

  const scoreboard = document.getElementById("scoreboard");
  scoreboard.innerHTML = "";
  const data = [
    {name: spelerNaam, points: score},
    {name: "Anna", points: 8},
    {name: "Piet", points: 6}
  ];
  data.forEach(d => {
    const li = document.createElement("li");
    li.innerHTML = `<i>${d.name}</i> â€” ${d.points} punten`;
    scoreboard.appendChild(li);
  });

  const details = document.getElementById("details");
  details.innerHTML = "";

  // Toon alleen de correcte afbeeldingen/antwoorden, geen dubbele
 userAnswers.forEach((res, i) => {
  const box = document.createElement("div");
  box.className = "result-box";

  // Vraag afbeelding (als het een image-pad is)
  let questionHTML = res.question.match(/\.(png|jpg|jpeg|gif)$/i)
    ? `<img src="${res.question}" alt="Vraag ${i+1}" style="max-width:300px; display:block; margin:5px auto;">`
    : res.question;

  // Jouw antwoord
  let chosenHTML = res.chosen.match(/\.(png|jpg|jpeg|gif)$/i)
    ? `<img src="${res.chosen}" alt="Jouw antwoord" style="max-width:200px; display:block; margin:5px auto;">`
    : res.chosen;

  // Correct antwoord
  let correctHTML = res.correct.match(/\.(png|jpg|jpeg|gif)$/i)
    ? `<img src="${res.correct}" alt="Correct antwoord" style="max-width:200px; display:block; margin:5px auto;">`
    : res.correct;

  box.innerHTML = `
    <p><b>Vraag ${i+1}:</b></p>
    ${questionHTML} 
    <p>Deze vraag had je: <span class="${res.isCorrect ? 'correct' : 'wrong'}">
      ${res.isCorrect ? 'goed' : 'fout'}</span></p>
    <p>Jouw antwoord: ${chosenHTML}</p>
    <p>Het juiste antwoord: ${correctHTML}</p>
    ${res.bonus ? `<p style="color:orange;"><b>Bonuspunt verdiend!</b></p>` : ""}
  `;
  details.appendChild(box);
});
  setupResultNavigation();

}

    /* <!-- uitleg: showResult bouwt het eindscherm met score, een simpele scoreboard en gedetailleerde feedback per vraag. */
    function showResult() {
      showScreen("eind-scherm");
      document.getElementById("summary").innerHTML =
        `<p>Gefeliciteerd <b>${spelerNaam}</b>, je hebt de quiz afgerond.<br>
        Je score is: <b>${score}</b> van de <b>${shuffledQuizData.length}</b></p>`;

      const scoreboard = document.getElementById("scoreboard");
      scoreboard.innerHTML = "";
      const data = [
        {name: spelerNaam, points: score},
        {name: "Anna", points: 8},
        {name: "Piet", points: 6}
      ];
      data.forEach(d => {
        const li = document.createElement("li");
        li.innerHTML = `<i>${d.name}</i> â€” ${d.points} punten`;
        scoreboard.appendChild(li);
      });

      const details = document.getElementById("details");
      details.innerHTML = "";
      userAnswers.forEach((res, i) => {
        const box = document.createElement("div");
        box.className = "result-box";
        box.innerHTML = `
          <p><b>Vraag ${i+1}:</b> ${res.question}</p>
          <p>Deze vraag had je: <span class="${res.isCorrect ? 'correct' : 'wrong'}">
            ${res.isCorrect ? 'goed' : 'fout'}</span></p>
          <p>Jouw antwoord: ${res.chosen}</p>
          <p>Het juiste antwoord: <b>${res.correct}</b></p>
        `;
        details.appendChild(box);
      });
        setupResultNavigation();
      
const totalBonus = userAnswers.reduce((sum, ans) => sum + ans.bonus, 0);
document.getElementById("summary").innerHTML = `
  <p>Gefeliciteerd <b>${spelerNaam}</b>, je hebt de quiz afgerond.<br>
  Je score is: <b>${score - totalBonus}</b> van <b>${shuffledQuizData.length}</b><br>
  Bonuspunten: <b>${totalBonus}</b><br>
  Totaal: <b>${score}</b></p>
`;




userAnswers.forEach((res, i) => {
  const box = document.createElement("div");
  box.className = "result-box";

  // Jouw antwoord
  let chosenHTML = res.chosen.match(/\.(png|jpg|jpeg|gif)$/i)
    ? `<img src="${res.chosen}" alt="Jouw antwoord" style="max-width:200px; display:block; margin:5px auto;">`
    : res.chosen;

  // Correct antwoord
  let correctHTML = res.correct.match(/\.(png|jpg|jpeg|gif)$/i)
    ? `<img src="${res.correct}" alt="Correct antwoord" style="max-width:200px; display:block; margin:5px auto;">`
    : res.correct;

  box.innerHTML = `
    <p><b>Vraag ${i+1}:</b> ${res.question}</p>
    <p>Deze vraag had je: <span class="${res.isCorrect ? 'correct' : 'wrong'}">
      ${res.isCorrect ? 'goed' : 'fout'}</span></p>
    <p>Jouw antwoord: ${chosenHTML}</p>
    <p>Het juiste antwoord: ${correctHTML}</p>
    ${res.bonus ? `<p style="color:orange;"><b>Bonuspunt verdiend!</b></p>` : ""}
  `;
  details.appendChild(box);
});

    }

const psychologieVragen = [
  { 
    question: "Deze persoonlijkheidsstoornis wordt gekenmerkt door perfectionisme, sterke behoefte aan controle en rigide gedrag. Welke stoornis is dit?", 
    image: "img/img-psychologie/personality_disorder.png", 
    answers: ["Borderline","Histrionic","Obsessive-compulsive","Schizoid"], 
    correct: 2 
  },
  { 
    question: "Dit copingmechanisme wordt gebruikt als je stress ervaart, zonder er direct iets aan te doen.", 
    image: "img/img-psychologie/Coping_mechanism.png", 
    answers: ["Pakt problemen meteen aan", "Vermijdt of stelt uit", "Zoekt advies bij anderen", "Probeert positief te denken "], 
    correct: 1 
  },
  { 
    question: "Enneagram 5 houdt ervan alleen te zijn, leest veel en denkt diep na voordat hij iets zegt. Welke eigenschap past?", 
    image: "img/img-psychologie/Enneagram.png", 
    answers: ["Houdt van feestje en veel vrienden","Neemt tijd om te leren en nadenken","Besluit snel zonder veel nadenken","Wil graag de leiding hebben over anderen"], 
    correct: 1 
  },
  { 
    question: "Welke fobie is de angst voor spinnen?", 
    image: "img/img-psychologie/Phobia.png", 
    answers: ["Arachnofobie","Claustrofobie","Acrofobie","Nyctofobie"], 
    correct: 0 
  },
  { 
    question: "INTJ persoonlijkheidstype denkt veel na en plant vooruit. Welke eigenschap hoort bij een INTJ?", 
    image: "img/img-psychologie/MBTI.png", 
    answers: ["Spontaan en leeft in het moment","Houdt van lange termijn strategie","Zoekt altijd sociale aandacht","Past zich aan om iedereen tevreden te houden"], 
    correct: 1 
  },
  { 
    question: "Welke love style is: iemand laten zien dat je om hen geeft door samen aandachtig tijd door te brengen?", 
    image: "img/img-psychologie/love style.png", 
    answers: ["Quality time","Waarderende woorden","Cadeaus geven","Lichamelijke aanraking"], 
    correct: 0 
  },
  { 
    question: "Welke eigenschap hoort bij psychopathy?", 
    image: "img/img-psychologie/Dark triad.png", 
    answers: ["Gebrek aan empathie","Perfectionisme","Angst om alleen te zijn","Overmatig emotioneel drama"], 
    correct: 0 
  },
  { 
    question: "Welke eigenschap hoort bij narcissism?", 
    image: "img/img-psychologie/Narcissism.png", 
    answers: ["Extreme behoefte aan bewondering","Vermijden van sociale contacten","Overmatig plannen en organiseren","Diep nadenken en analyseren"], 
    correct: 0 
  },
  { 
    question: "Wie gebruikt eerst veel aandacht om later schuldgevoelens op te wekken?", 
    image: "img/img-psychologie/manipulatie.png", 
    answers: ["Gaslighting","Love bombing","Silent treatment","Mirroring"], 
    correct: 1 
  },
  { 
    question: "Laat je baas altijd groter lijken dan jij, anders voelt hij zich bedreigd. Welke law is dit?", 
    image: "img/img-psychologie/48_laws_of_power.png", 
    answers: ["Law 6 â€“ Trek aandacht","Law 1 â€“ Overschaduw nooit de meester","Law 15 â€“ Vernietig je vijand","Law 33 â€“ Vind iemands zwakke punt"], 
    correct: 1 
  }
];


const rugbyVragen = [
  { 
    question: "Welke speler staat bekend als de scrum-half?", 
    image: "img/img-psychologie/rugby1.jpg", 
    answers: ["Voorwaartsen", "Scrum-half", "Fly-half", "Flank"], 
    correct: 1 
  },
  { 
    question: "Hoeveel spelers staan er op het veld bij een rugbyteam?", 
    image: "img/img-psychologie/rugby2.jpg", 
    answers: ["11", "13", "15", "17"], 
    correct: 2 
  },
  { 
    question: "Wat is een try in rugby?", 
    image: "img/img-psychologie/rugby3.jpg", 
    answers: ["Scoren door de bal over de lijn te drukken", "Een overtreding", "Een tackle", "Een penalty"], 
    correct: 0 
  },
  { 
    question: "Welke positie is meestal de grootste speler in de scrum?", 
    image: "img/img-psychologie/rugby4.jpg", 
    answers: ["Lock", "Scrum-half", "Fly-half", "Wing"], 
    correct: 0 
  },
  { 
    question: "Wat is de rol van een Fly-half?", 
    image: "img/img-psychologie/rugby5.webp", 
    answers: ["Scoren van tries", "Leiden van aanval en passen", "Tackelen", "Schoppen van penalties"], 
    correct: 1 
  },
  { 
    question: "Welke kleur kaart wordt gegeven bij ernstige overtredingen?", 
    image: "img/img-psychologie/rugby6.jpg", 
    answers: ["Groen", "Geel", "Rood", "Blauw"], 
    correct: 2 
  },
  { 
    question: "Welke speler staat bekend als wing?", 
    image: "img/img-psychologie/rugby7.png", 
    answers: ["Snelle buitenste speler", "Scrum-half", "Voorwaarts", "Fly-half"], 
    correct: 0 
  },
  { 
    question: "Wat betekent line-out?", 
    image: "img/img-psychologie/rugby8.png", 
    answers: ["Een manier om de bal opnieuw in te gooien bij uit", "Een tackle", "Een try", "Een scrum"], 
    correct: 0 
  },
  { 
    question: "Wat is de naam van de verdedigingstechniek waarbij spelers dicht op elkaar staan om de tegenstander te stoppen?", 
    image: "img/img-psychologie/rugby9.png", 
    answers: ["Scrum", "Ruck", "Maul", "Tackle"], 
    correct: 1 
  },
  { 
    question: "Wat doe je tijdens een scrum?", 
    image: "img/img-psychologie/rugby10.png", 
    answers: ["Houd je de bal vast", "Druk je tegenstanders samen om bal te winnen", "Ren je langs de lijn", "Schop je de bal"], 
    correct: 1 
  }
];

const patronenVragen = [
  // Cijferreeksen: vragen 1-3
  { 
    instruction: "Vind het volgende getal in de reeks:",
    question: "img patronen/vraag 1/cijferreeks_1.png",
    answers: [
      "img patronen/vraag 1/1_part_1.png",
      "img patronen/vraag 1/1_part_2.png",
      "img patronen/vraag 1/1_part_3_goed.png",
      "img patronen/vraag 1/1_part_4.png"
    ],
    correct: 2
  },
  { 
    instruction: "Vind het volgende getal in de reeks:",
    question: "img patronen/vraag 1/vraag 2/cijferreeks_2.png",
    answers: [
      "img patronen/vraag 1/vraag 2/2_part_1_goed.png",
      "img patronen/vraag 1/vraag 2/2_part_2.png",
      "img patronen/vraag 1/vraag 2/2_part_3.png",
      "img patronen/vraag 1/vraag 2/2_part_4.png"
    ],
    correct: 0
  },
  { 
    instruction: "Vind het volgende getal in de reeks:",
    question: "img patronen/vraag 1/vraag 2/vraag 3/cijferreeks_3.png",
    answers: [
      "img patronen/vraag 1/vraag 2/vraag 3/3_part_1.png",
      "img patronen/vraag 1/vraag 2/vraag 3/3_part_2_goed.png",
      "img patronen/vraag 1/vraag 2/vraag 3/3_part_3.png",
      "img patronen/vraag 1/vraag 2/vraag 3/3_part_4.png"
    ],
    correct: 1
  },

  // Patronenreeksen: vragen 4-6
  { 
    instruction: "Vind het volgende patroon in de reeks:",
    question: "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/patronenreeks4.png",
    answers: [
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/4_part_1.png",
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/4_part_2.png",
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/4_part_3.png",
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/4_part_4_goed.png"
    ],
    correct: 3
  },
  { 
    instruction: "Vind het volgende patroon in de reeks:",
    question: "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/patronenreeks5.png",
    answers: [
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/5_part_1.png",
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/5_part_2.png",
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/5_part_3.png",
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/5_part_4_goed.png"
    ],
    correct: 3
  },
  { 
    instruction: "Vind het volgende patroon in de reeks:",
    question: "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/vraag 6/patronenreeks6.png",
    answers: [
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/vraag 6/6_part_1_goed.png",
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/vraag 6/6_part_2.png",
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/vraag 6/6_part_3.png",
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/vraag 6/6_part_4.png"
    ],
    correct: 0
  },

  // Diagrammen: vragen 7-9 (geen image)
  { 
    instruction: "Kies het diagram dat logisch past bij de reeks:",
    question: "Frankrijk - Europa - AziÃ«",
    image: "imgpatronenextra/earth.png",
    answers: [
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/vraag 6/vraag 7/7_part_1_goed.png",
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/vraag 6/vraag 7/7_part_2.png",
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/vraag 6/vraag 7/7_part_3.png",
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/vraag 6/vraag 7/7_part_4.png"
    ],
    correct: 0
  },
  { 
    instruction: "Kies het diagram dat logisch past bij de reeks:",
    question: "Dieren - Vogels - Meeuwen",
    image: "imgpatronenextra/bird.png",
    answers: [
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/vraag 6/vraag 7/vraag 8/8_part_1.png",
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/vraag 6/vraag 7/vraag 8/8_part_2_goed.png",
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/vraag 6/vraag 7/vraag 8/8_part_3.png",
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/vraag 6/vraag 7/vraag 8/8_part_4.png"
    ],
    correct: 1
  },
  { 
    instruction: "Kies het diagram dat logisch past bij de reeks:",
    question: "Insecten - Mug - Vlinder",
    image: "imgpatronenextra/Ladybug.png",
    answers: [
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/vraag 6/vraag 7/vraag 8/vraag 9/9_part_1.png",
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/vraag 6/vraag 7/vraag 8/vraag 9/9_part_2.png",
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/vraag 6/vraag 7/vraag 8/vraag 9/9_part_3_goed.png",
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/vraag 6/vraag 7/vraag 8/vraag 9/9_part_4.png"
    ],
    correct: 2
  },

  // Kubus: vraag 10
  { 
    instruction: "Kies de afbeelding die ontstaat als je deze blueprint tot een kubus vouwt:",
    question: "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/vraag 6/vraag 7/vraag 8/vraag 9/vraag 10/doospatroon.png",
    answers: [
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/vraag 6/vraag 7/vraag 8/vraag 9/vraag 10/10_part_1_goed.png",
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/vraag 6/vraag 7/vraag 8/vraag 9/vraag 10/10_part_2.png",
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/vraag 6/vraag 7/vraag 8/vraag 9/vraag 10/10_part_3.png",
      "img patronen/vraag 1/vraag 2/vraag 3/vraag 4/vraag 5/vraag 6/vraag 7/vraag 8/vraag 9/vraag 10/10_part_4.png"
    ],
    correct: 0
  }
];

    // Toon startscherm bij laden (veiligheid)
    showScreen("start-scherm");
  </script>
</body>
</html>
